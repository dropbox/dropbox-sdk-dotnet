<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>FilesUserRoutes.ListFolderAsync Method (String, Boolean, Boolean, Boolean, Boolean, Boolean, Nullable(UInt32))</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="M:Dropbox.Api.Files.Routes.FilesUserRoutes.ListFolderAsync(System.String,System.Boolean,System.Boolean,System.Boolean,System.Boolean,System.Boolean,System.Nullable{System.UInt32})" /><meta name="Description" content="Starts returning the contents of a folder. If the result's field is true, call with the returned to retrieve more entries." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Dropbox.Api.Files.Routes" /><meta name="file" content="M_Dropbox_Api_Files_Routes_FilesUserRoutes_ListFolderAsync_1" /><meta name="guid" content="M_Dropbox_Api_Files_Routes_FilesUserRoutes_ListFolderAsync_1" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Dropbox API<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="R_Project_DotNetApiDocumentation.htm" title="Dropbox API" tocid="roottoc">Dropbox API</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="R_Project_DotNetApiDocumentation.htm" title="Dropbox" tocid="R_Project_DotNetApiDocumentation">Dropbox</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_Dropbox_Api_Files_Routes.htm" title="Dropbox.Api.Files.Routes" tocid="N_Dropbox_Api_Files_Routes">Dropbox.Api.Files.Routes</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="T_Dropbox_Api_Files_Routes_FilesUserRoutes.htm" title="FilesUserRoutes Class" tocid="T_Dropbox_Api_Files_Routes_FilesUserRoutes">FilesUserRoutes Class</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="Methods_T_Dropbox_Api_Files_Routes_FilesUserRoutes.htm" title="FilesUserRoutes Methods" tocid="Methods_T_Dropbox_Api_Files_Routes_FilesUserRoutes">FilesUserRoutes Methods</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="Overload_Dropbox_Api_Files_Routes_FilesUserRoutes_ListFolderAsync.htm" title="ListFolderAsync Method " tocid="Overload_Dropbox_Api_Files_Routes_FilesUserRoutes_ListFolderAsync">ListFolderAsync Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="M_Dropbox_Api_Files_Routes_FilesUserRoutes_ListFolderAsync.htm" title="ListFolderAsync Method (ListFolderArg)" tocid="M_Dropbox_Api_Files_Routes_FilesUserRoutes_ListFolderAsync">ListFolderAsync Method (ListFolderArg)</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="M_Dropbox_Api_Files_Routes_FilesUserRoutes_ListFolderAsync_1.htm" title="ListFolderAsync Method (String, Boolean, Boolean, Boolean, Boolean, Boolean, Nullable(UInt32))" tocid="M_Dropbox_Api_Files_Routes_FilesUserRoutes_ListFolderAsync_1">ListFolderAsync Method (String, Boolean, Boolean, Boolean, Boolean, Boolean, Nullable(UInt32))</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img width="38" height="36" src="../icons/blue_dropbox_glyph.png" /></td><td class="titleColumn">FilesUserRoutes<span id="LST95EF76A1_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_0?cpp=::|nu=.");</script>ListFolderAsync Method (String, Boolean, Boolean, Boolean, Boolean, Boolean, Nullable<span id="LST95EF76A1_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_1?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>UInt32<span id="LST95EF76A1_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_2?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>)</td></tr></table><span class="introStyle"></span><div class="summary"><p>Starts returning the contents of a folder. If the result's <a href="P_Dropbox_Api_Files_ListFolderResult_HasMore.htm">HasMore</a> field is <span class="code">true</span>, call
            <a href="M_Dropbox_Api_Files_Routes_FilesUserRoutes_ListFolderContinueAsync.htm">ListFolderContinueAsync(ListFolderContinueArg)</a>
            with the returned <a href="P_Dropbox_Api_Files_ListFolderResult_Cursor.htm">Cursor</a> to
            retrieve more entries.</p><p>If you're using <a href="P_Dropbox_Api_Files_ListFolderArg_Recursive.htm">Recursive</a> set
            to <span class="code">true</span> to keep a local cache of the contents of a Dropbox account, iterate
            through each entry in order and process them as follows to keep your local state in
            sync:</p><p>For each <a href="T_Dropbox_Api_Files_FileMetadata.htm">FileMetadata</a>, store the new entry at the given path
            in your local state. If the required parent folders don't exist yet, create them.
            If there's already something else at the given path, replace it and remove all its
            children.</p><p>For each <a href="T_Dropbox_Api_Files_FolderMetadata.htm">FolderMetadata</a>, store the new entry at the given path
            in your local state. If the required parent folders don't exist yet, create them.
            If there's already something else at the given path, replace it but leave the
            children as they are. Check the new entry's <span class="nolink">[!:Dropbox.Api.Files.FolderSharingInfo.ReadOnly]</span> and set all its children's
            read-only statuses to match.</p><p>For each <a href="T_Dropbox_Api_Files_DeletedMetadata.htm">DeletedMetadata</a>, if your local state has something at
            the given path, remove it and all its children. If there's nothing at the given
            path, ignore this entry.</p><p>Note: <a href="T_Dropbox_Api_Auth_RateLimitError.htm">RateLimitError</a> may be returned if multiple <a href="M_Dropbox_Api_Files_Routes_FilesUserRoutes_ListFolderAsync.htm">ListFolderAsync(ListFolderArg)</a> or <a href="M_Dropbox_Api_Files_Routes_FilesUserRoutes_ListFolderContinueAsync.htm">ListFolderContinueAsync(ListFolderContinueArg)</a> calls
            with same parameters are made simultaneously by same API app for same user. If your
            app implements retry logic, please hold off the retry until the previous request
            finishes.</p></div><p> </p><strong>Namespace:</strong> <a href="N_Dropbox_Api_Files_Routes.htm">Dropbox.Api.Files.Routes</a><br /><strong>Assembly:</strong> Dropbox.Api (in Dropbox.Api.dll) Version: 4.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EDCA_tab1" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cs','1','4');return false;">C#</a></div><div id="ID0EDCA_tab2" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','vb','2','4');return false;">VB</a></div><div id="ID0EDCA_tab3" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cpp','3','4');return false;">C++</a></div><div id="ID0EDCA_tab4" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','fs','4','4');return false;">F#</a></div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EDCA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID0EDCA');return false;" title="Copy">Copy</a></div></div><div id="ID0EDCA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="identifier">Task</span>&lt;<span class="identifier">ListFolderResult</span>&gt; <span class="identifier">ListFolderAsync</span>(
	<span class="identifier">string</span> <span class="parameter">path</span>,
	<span class="identifier">bool</span> <span class="parameter">recursive</span> = <span class="keyword">false</span>,
	<span class="identifier">bool</span> <span class="parameter">includeMediaInfo</span> = <span class="keyword">false</span>,
	<span class="identifier">bool</span> <span class="parameter">includeDeleted</span> = <span class="keyword">false</span>,
	<span class="identifier">bool</span> <span class="parameter">includeHasExplicitSharedMembers</span> = <span class="keyword">false</span>,
	<span class="identifier">bool</span> <span class="parameter">includeMountedFolders</span> = <span class="keyword">true</span>,
	<span class="identifier">Nullable</span>&lt;<span class="identifier">uint</span>&gt; <span class="parameter">limit</span> = <span class="keyword">null</span>
)</pre></div><div id="ID0EDCA_code_Div2" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Function</span> <span class="identifier">ListFolderAsync</span> ( 
	<span class="parameter">path</span> <span class="keyword">As</span> <span class="identifier">String</span>,
	Optional <span class="parameter">recursive</span> <span class="keyword">As</span> <span class="identifier">Boolean</span> = <span class="keyword">false</span>,
	Optional <span class="parameter">includeMediaInfo</span> <span class="keyword">As</span> <span class="identifier">Boolean</span> = <span class="keyword">false</span>,
	Optional <span class="parameter">includeDeleted</span> <span class="keyword">As</span> <span class="identifier">Boolean</span> = <span class="keyword">false</span>,
	Optional <span class="parameter">includeHasExplicitSharedMembers</span> <span class="keyword">As</span> <span class="identifier">Boolean</span> = <span class="keyword">false</span>,
	Optional <span class="parameter">includeMountedFolders</span> <span class="keyword">As</span> <span class="identifier">Boolean</span> = <span class="keyword">true</span>,
	Optional <span class="parameter">limit</span> <span class="keyword">As</span> <span class="identifier">Nullable</span>(<span class="keyword">Of</span> <span class="identifier">UInteger</span>) = <span class="keyword">Nothing</span>
) <span class="keyword">As</span> <span class="identifier">Task</span>(<span class="keyword">Of</span> <span class="identifier">ListFolderResult</span>)</pre></div><div id="ID0EDCA_code_Div3" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">public</span>:
<span class="identifier">Task</span>&lt;<span class="identifier">ListFolderResult</span>^&gt;^ <span class="identifier">ListFolderAsync</span>(
	<span class="identifier">String</span>^ <span class="parameter">path</span>, 
	<span class="identifier">bool</span> <span class="parameter">recursive</span> = <span class="keyword">false</span>, 
	<span class="identifier">bool</span> <span class="parameter">includeMediaInfo</span> = <span class="keyword">false</span>, 
	<span class="identifier">bool</span> <span class="parameter">includeDeleted</span> = <span class="keyword">false</span>, 
	<span class="identifier">bool</span> <span class="parameter">includeHasExplicitSharedMembers</span> = <span class="keyword">false</span>, 
	<span class="identifier">bool</span> <span class="parameter">includeMountedFolders</span> = <span class="keyword">true</span>, 
	<span class="identifier">Nullable</span>&lt;<span class="identifier">unsigned int</span>&gt; <span class="parameter">limit</span> = <span class="keyword">nullptr</span>
)</pre></div><div id="ID0EDCA_code_Div4" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">member</span> <span class="identifier">ListFolderAsync</span> : 
        <span class="parameter">path</span> : <span class="identifier">string</span> * 
        ?<span class="parameter">recursive</span> : <span class="identifier">bool</span> * 
        ?<span class="parameter">includeMediaInfo</span> : <span class="identifier">bool</span> * 
        ?<span class="parameter">includeDeleted</span> : <span class="identifier">bool</span> * 
        ?<span class="parameter">includeHasExplicitSharedMembers</span> : <span class="identifier">bool</span> * 
        ?<span class="parameter">includeMountedFolders</span> : <span class="identifier">bool</span> * 
        ?<span class="parameter">limit</span> : <span class="identifier">Nullable</span>&lt;<span class="identifier">uint32</span>&gt; 
(* Defaults:
        <span class="keyword">let </span><span class="identifier">_</span><span class="identifier">recursive</span> = defaultArg <span class="identifier">recursive</span> <span class="keyword">false</span>
        <span class="keyword">let </span><span class="identifier">_</span><span class="identifier">includeMediaInfo</span> = defaultArg <span class="identifier">includeMediaInfo</span> <span class="keyword">false</span>
        <span class="keyword">let </span><span class="identifier">_</span><span class="identifier">includeDeleted</span> = defaultArg <span class="identifier">includeDeleted</span> <span class="keyword">false</span>
        <span class="keyword">let </span><span class="identifier">_</span><span class="identifier">includeHasExplicitSharedMembers</span> = defaultArg <span class="identifier">includeHasExplicitSharedMembers</span> <span class="keyword">false</span>
        <span class="keyword">let </span><span class="identifier">_</span><span class="identifier">includeMountedFolders</span> = defaultArg <span class="identifier">includeMountedFolders</span> <span class="keyword">true</span>
        <span class="keyword">let </span><span class="identifier">_</span><span class="identifier">limit</span> = defaultArg <span class="identifier">limit</span> <span class="keyword">null</span>
*)
<span class="keyword">-&gt;</span> <span class="identifier">Task</span>&lt;<span class="identifier">ListFolderResult</span>&gt; 
</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EDCA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">path</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/s1wwdcbf" target="_blank">System<span id="LST95EF76A1_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_3?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>String</a><br />A unique identifier for the file.</dd><dt><span class="parameter">recursive</span> (Optional)</dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/a28wyd50" target="_blank">System<span id="LST95EF76A1_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Boolean</a><br />If true, the list folder operation will be applied
            recursively to all subfolders and the response will contain contents of all
            subfolders.</dd><dt><span class="parameter">includeMediaInfo</span> (Optional)</dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/a28wyd50" target="_blank">System<span id="LST95EF76A1_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_5?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Boolean</a><br />If true, <a href="P_Dropbox_Api_Files_FileMetadata_MediaInfo.htm">MediaInfo</a> is set for photo and
            video.</dd><dt><span class="parameter">includeDeleted</span> (Optional)</dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/a28wyd50" target="_blank">System<span id="LST95EF76A1_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_6?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Boolean</a><br />If true, the results will include entries for files
            and folders that used to exist but were deleted.</dd><dt><span class="parameter">includeHasExplicitSharedMembers</span> (Optional)</dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/a28wyd50" target="_blank">System<span id="LST95EF76A1_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_7?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Boolean</a><br />If true, the results will include a
            flag for each file indicating whether or not  that file has any explicit
            members.</dd><dt><span class="parameter">includeMountedFolders</span> (Optional)</dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/a28wyd50" target="_blank">System<span id="LST95EF76A1_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_8?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Boolean</a><br />If true, the results will include entries under
            mounted folders which includes app folder, shared folder and team folder.</dd><dt><span class="parameter">limit</span> (Optional)</dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/b3h38hb0" target="_blank">System<span id="LST95EF76A1_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_9?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Nullable</a><span id="LST95EF76A1_10"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_10?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="http://msdn2.microsoft.com/en-us/library/ctys3981" target="_blank">UInt32</a><span id="LST95EF76A1_11"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_11?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />The maximum number of results to return per request. Note: This
            is an approximate number and there can be slightly more entries returned in some
            cases.</dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="http://msdn2.microsoft.com/en-us/library/dd321424" target="_blank">Task</a><span id="LST95EF76A1_12"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_12?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="T_Dropbox_Api_Files_ListFolderResult.htm">ListFolderResult</a><span id="LST95EF76A1_13"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_13?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />The task that represents the asynchronous send operation. The TResult
            parameter contains the response from the server.</div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Exceptions</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="tableSection"><table><tr><th>Exception</th><th>Condition</th></tr><tr><td><a href="T_Dropbox_Api_ApiException_1.htm">ApiException<span id="LST95EF76A1_14"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_14?cs=&lt;|vb=(Of |cpp=&lt;|nu=(|fs=&lt;'");</script>TError<span id="LST95EF76A1_15"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95EF76A1_15?cs=&gt;|vb=)|cpp=&gt;|nu=)|fs=&gt;");</script></a></td><td>Thrown if there is an error
            processing the request; This will contain a <a href="T_Dropbox_Api_Files_ListFolderError.htm">ListFolderError</a>.</td></tr></table></div></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID3RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="T_Dropbox_Api_Files_Routes_FilesUserRoutes.htm">FilesUserRoutes Class</a></div><div class="seeAlsoStyle"><a href="Overload_Dropbox_Api_Files_Routes_FilesUserRoutes_ListFolderAsync.htm">ListFolderAsync Overload</a></div><div class="seeAlsoStyle"><a href="N_Dropbox_Api_Files_Routes.htm">Dropbox.Api.Files.Routes Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>